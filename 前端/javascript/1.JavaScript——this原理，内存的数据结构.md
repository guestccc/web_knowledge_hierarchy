## 问题：为什么函数中的this指向调用这个函数的对象？

```js
var obj = {
  a:'obj里的ccc',
  b:function(){
    console.log(this.a)
  }
}

// 1.obj调用b函数
obj.b()
// obj里的ccc

// 2.window 调用b函数
var a = 'window下的ccc'
var c = obj.b  
c()
// window下的ccc
```

为什么执行的结果会有如此的差异呢

为什么`obj.b()`是`obj`调用了函数

为什么`c()`是`window`调用了函数

为什么函数内的this，指向调用这个函数的对象（环境）呢


## 解释：

```js
var a = {haha:'hehe'}
```

* 一个对象`{haha:'hehe'}`赋值给了 变量`a`

* js会在内存中，生成一个对象`{haha:'hehe'}`

* 然后把这个对象在内存里的`地址`给到变量`a`

* 所以`a`拿到的只是一个`地址`

```js
var obj = {
  a: function(){}
}
```

* 同理`obj`拿到的是` {a: function(){}}`对象在内存里的地址

* 而` {a: function(){}}`对象在内存中的`a`变量也只是`function(){}`在内存中另外的一个地址

* 由于函数是一个单独的值（value）

* 所以函数可以在不同的环境（对象）执行

* this也指向了不同的环境

---

所以 问题中的`obj.a`和`c`存放的是同一个函数在内存中的地址----***a、c变量中存的都只是地址***

所以  `obj.a()`和`c()` 是同一个函数，在不同环境中执行

那么`this`就指向不同的环境

## 总结：

所以才有，那么那么多的，函数中的this，是指向调用该函数的环境（对象），这样一些类似的概念


---

<h5 style="display:flex;align-items:center;">
<svg  class="icon icon-github" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 28"  aria-label="GitHub"  role="img"  focusable="false"> <title>Github</title><path d="M12 2c6.625 0 12 5.375 12 12 0 5.297-3.437 9.797-8.203 11.391-.609.109-.828-.266-.828-.578 0-.391.016-1.687.016-3.297 0-1.125-.375-1.844-.812-2.219 2.672-.297 5.484-1.313 5.484-5.922 0-1.313-.469-2.375-1.234-3.219.125-.313.531-1.531-.125-3.187-1-.313-3.297 1.234-3.297 1.234a11.28 11.28 0 0 0-6 0S6.704 6.656 5.704 6.969c-.656 1.656-.25 2.875-.125 3.187-.766.844-1.234 1.906-1.234 3.219 0 4.594 2.797 5.625 5.469 5.922-.344.313-.656.844-.766 1.609-.688.313-2.438.844-3.484-1-.656-1.141-1.844-1.234-1.844-1.234-1.172-.016-.078.734-.078.734.781.359 1.328 1.75 1.328 1.75.703 2.141 4.047 1.422 4.047 1.422 0 1 .016 1.937.016 2.234 0 .313-.219.688-.828.578C3.439 23.796.002 19.296.002 13.999c0-6.625 5.375-12 12-12zM4.547 19.234c.031-.063-.016-.141-.109-.187-.094-.031-.172-.016-.203.031-.031.063.016.141.109.187.078.047.172.031.203-.031zm.484.532c.063-.047.047-.156-.031-.25-.078-.078-.187-.109-.25-.047-.063.047-.047.156.031.25.078.078.187.109.25.047zm.469.703c.078-.063.078-.187 0-.297-.063-.109-.187-.156-.266-.094-.078.047-.078.172 0 .281s.203.156.266.109zm.656.656c.063-.063.031-.203-.063-.297-.109-.109-.25-.125-.313-.047-.078.063-.047.203.063.297.109.109.25.125.313.047zm.891.391c.031-.094-.063-.203-.203-.25-.125-.031-.266.016-.297.109s.063.203.203.234c.125.047.266 0 .297-.094zm.984.078c0-.109-.125-.187-.266-.172-.141 0-.25.078-.25.172 0 .109.109.187.266.172.141 0 .25-.078.25-.172zm.906-.156c-.016-.094-.141-.156-.281-.141-.141.031-.234.125-.219.234.016.094.141.156.281.125s.234-.125.219-.219z"></path></svg>
<span style="margin-left:12px;">GitHub</span>
</h5>


[:book:《web_knowledge_hierarchy》](https://github.com/guestccc/web_knowledge_hierarchy)

##### 参考文章

阮一峰——[《JavaScript 的 this 原理》](http://www.ruanyifeng.com/blog/2018/06/javascript-this.html)


