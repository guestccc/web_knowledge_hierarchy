***f12 打开浏览器控制台***

# 一、this 概念

> 当前执行代码的环境对象

粗暴理解：this 就是个对象


# 二、多种情况

## （一）. 全局环境中

在全局执行环境中（在任何函数体外部）`this` 都`指向`[^引用值]全局对象。

```
console.log(this)
// window
```
## （二）. 函数内部

（划重点，划重点，划重点，划重点，划重点，划重点）


### 1. 简单调用

`this`指向`window`

```
function haha(){
  console.log(this)
}
haha()
// window

```

个人理解

* haha()本身就是window对象下的一个函数
* haha()是被window这个对象调用的
* 把`haha()`看做`window.haha()`
* 所以用`2.作为对象的方法`理解的话
* 函数`haha`内部的`this`，指向调用`haha`的对象`window`


### 2. 作为对象的方法

* 如果这个函数是在对象的内部，并且是作为对象的方法被调用

  那么，`this`指向调用这个函数的对象


  ```
  var hahaObject = {
    hahaName:'l名字',
    hahaMethod:function(){
      console.log(this)
    }
  }
  hahaObject.hahaMethod() // hahaObject调用了hahaMethod这个函数
  //{hahaName: "l名字", hahaMethod: ƒ}

  ```

* 如果对象中的函数被赋值给了一个变量

  ```
  var hahaObject = {
    hahaName:'l名字',
    hahaMethod:function(){
      console.log(this)
    }
  }

  var a = hahaObject.hahaMethod

  a()
  // window
  ```

函数是个单独的值，所以函数可以在不同的环境中执行

  函数hahaMethod在栈中其实存的就是指向内存的一个地址

  这个内存存了
  
  函数hahaMethod赋值给了a这个变量

  a获得函数hahaMethod的地址

  a就变成了window对象下的一个函数



[^引用值]: `this`是个对象，对象存在`栈`里的只是一个指向`内存`的`地址`


---

<h5 style="display:flex;align-items:center;">
<svg  class="icon icon-github" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 28"  aria-label="GitHub"  role="img"  focusable="false"> <title>Github</title><path d="M12 2c6.625 0 12 5.375 12 12 0 5.297-3.437 9.797-8.203 11.391-.609.109-.828-.266-.828-.578 0-.391.016-1.687.016-3.297 0-1.125-.375-1.844-.812-2.219 2.672-.297 5.484-1.313 5.484-5.922 0-1.313-.469-2.375-1.234-3.219.125-.313.531-1.531-.125-3.187-1-.313-3.297 1.234-3.297 1.234a11.28 11.28 0 0 0-6 0S6.704 6.656 5.704 6.969c-.656 1.656-.25 2.875-.125 3.187-.766.844-1.234 1.906-1.234 3.219 0 4.594 2.797 5.625 5.469 5.922-.344.313-.656.844-.766 1.609-.688.313-2.438.844-3.484-1-.656-1.141-1.844-1.234-1.844-1.234-1.172-.016-.078.734-.078.734.781.359 1.328 1.75 1.328 1.75.703 2.141 4.047 1.422 4.047 1.422 0 1 .016 1.937.016 2.234 0 .313-.219.688-.828.578C3.439 23.796.002 19.296.002 13.999c0-6.625 5.375-12 12-12zM4.547 19.234c.031-.063-.016-.141-.109-.187-.094-.031-.172-.016-.203.031-.031.063.016.141.109.187.078.047.172.031.203-.031zm.484.532c.063-.047.047-.156-.031-.25-.078-.078-.187-.109-.25-.047-.063.047-.047.156.031.25.078.078.187.109.25.047zm.469.703c.078-.063.078-.187 0-.297-.063-.109-.187-.156-.266-.094-.078.047-.078.172 0 .281s.203.156.266.109zm.656.656c.063-.063.031-.203-.063-.297-.109-.109-.25-.125-.313-.047-.078.063-.047.203.063.297.109.109.25.125.313.047zm.891.391c.031-.094-.063-.203-.203-.25-.125-.031-.266.016-.297.109s.063.203.203.234c.125.047.266 0 .297-.094zm.984.078c0-.109-.125-.187-.266-.172-.141 0-.25.078-.25.172 0 .109.109.187.266.172.141 0 .25-.078.25-.172zm.906-.156c-.016-.094-.141-.156-.281-.141-.141.031-.234.125-.219.234.016.094.141.156.281.125s.234-.125.219-.219z"></path></svg>
<span style="margin-left:12px;">GitHub</span>
</h5>



[:book:《web_knowledge_hierarchy》](https://github.com/guestccc/web_knowledge_hierarchy)


##### 参考文章

阮一峰——[《Javascript 的 this 用法》](http://www.ruanyifeng.com/blog/2010/04/using_this_keyword_in_javascript.html)
