bind å‡½æ•°ï¼Œå†™ä¸ªåŸå‹ç»§æ‰¿ä»€ä¹ˆçš„
å…¨æ˜¯åŸºç¡€ï¼Œè·¨åŸŸï¼Œé—­åŒ…ä¹‹ç±»çš„ã€‚
è·¨åŸŸï¼Œç»§æ‰¿ï¼Œå¤šæ€ï¼Œé¢å‘å¯¹è±¡ï¼ŒåŸå‹é“¾ï¼Œè®¾è®¡æ¨¡å¼ï¼Œhttp è¯·æ±‚ã€‚
é¢ç›¸å¯¹è±¡ï¼Œå‰ç«¯è·¨åŸŸï¼Œé—­åŒ…

æ‰€æœ‰å¼•ç”¨ç±»å‹çš„å€¼éƒ½æ˜¯ Object çš„å®ä¾‹

## æ‰§è¡Œç¯å¢ƒï¼ˆæ‰§è¡Œä¸Šä¸‹æ–‡ï¼‰

åœ¨ web ä¸­ï¼Œå…¨å±€æ‰§è¡Œç¯å¢ƒè¢«è®¤ä¸ºæ˜¯ window
æ¯ä¸ªå‡½æ•°éƒ½æœ‰è‡ªå·±çš„æ‰§è¡Œç¯å¢ƒ
æ¯ä¸ªç¯å¢ƒéƒ½ä¼šæœ‰ä¸€ä¸ªå˜é‡å¯¹è±¡ æ¯ä¸ªå˜é‡å¯¹è±¡éƒ½æœ‰ä¸€ä¸ªä½œç”¨åŸŸé“¾
å¦‚æœè¿™ä¸ªç¯å¢ƒæ˜¯å‡½æ•°ï¼Œåˆ™å°†å…¶æ´»åŠ¨å¯¹è±¡(activation object)ä½œä¸ºå˜é‡å¯¹è±¡
æ¯ä¸ªç¯å¢ƒéƒ½ å¯ä»¥å‘ä¸Šæœç´¢ä½œç”¨åŸŸé“¾ï¼Œä»¥æŸ¥è¯¢å˜é‡å’Œå‡½æ•°å

åŠ é•¿ä½œç”¨åŸŸï¼Œtry-catch ä¸­çš„ catchã€ with è¯­å¥
è¿™ä¸¤ä¸ªè¯­å¥éƒ½ä¼šåœ¨ä½œç”¨åŸŸé“¾çš„å‰ç«¯æ·»åŠ ä¸€ä¸ªå˜é‡å¯¹è±¡

### å˜é‡å¯¹è±¡ æ´»åŠ¨å¯¹è±¡

[çº¢å®ä¹¦ï¼ˆp73ï¼‰]()ï¼šæ¯ä¸ªæ‰§è¡Œç¯å¢ƒéƒ½æœ‰ä¸€ä¸ª ä¸ä¹‹å…³è”çš„å˜é‡å¯¹è±¡(variable object)ï¼Œç¯å¢ƒä¸­å®šä¹‰çš„æ‰€æœ‰å˜é‡å’Œå‡½æ•°éƒ½ä¿å­˜åœ¨è¿™ä¸ªå¯¹è±¡ä¸­ã€‚

> ä¹Ÿå°±æ˜¯è¯´å½“å‰æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­æ‰€æœ‰çš„å˜é‡å’Œå‡½æ•°å£°æ˜ï¼Œéƒ½åœ¨è¿™ä¸ªå˜é‡å¯¹è±¡ä¸­

```js
<execution context stock>:[
  <execution context>:{
    VO:{
      agruments:{
        0:1,
        length
      },
      a:uninit,//let const
      b:undefined,//var
      c:reference to function c(){},,//function
    }
  }
]
```

|å˜é‡|å£°æ˜æ–¹å¼|vo çŠ¶æ€|è§£é‡Š|
|--|--|--|--|
|agruments|--| å·²ç»åˆå§‹åŒ– æœ‰å€¼/undefined |æœ‰ä¼ å°±æœ‰ï¼Œæ²¡æœ‰å°±æ˜¯undefined|
|a|letã€const|uninit |æœªåˆå§‹åŒ–|
|b|var|undefined |å·²ç»åˆå§‹åŒ–ï¼Œæ˜¯ä¸ª undefined|
|c|function|reference to function c(){} |å·²ç»æ‹¿åˆ°è¿™ä¸ªå‡½æ•°çš„å¼•ç”¨|

# ä½œç”¨åŸŸ


```js
function foo(val){
  let a = 1
  var b = 1
  function c () {

  }
}
foo(1)
```

```js
1. fooå®šä¹‰ï¼Œä¿å­˜çˆ¶çº§ä½œç”¨åŸŸç»™ å‡½æ•° çš„[[scope]]å±æ€§
foo.[[scope]] = [
  globalContext.VO
]

2. æ‰§è¡Œä¸Šä¸‹æ–‡ å…¥ æ ˆ
<execution context stock>.push(fooContext)

<execution context stock>:[
  <global execution context>,
  <foo execution context>:{
  }
]

3. å¤åˆ¶ä½œç”¨åŸŸé“¾

<execution context stock>:[
  <global execution context>,
  <foo execution context>:{
    <scope chain>:foo.[[scope]] //[globalContext.VO]
  }
]

4. åˆ›å»ºæ´»åŠ¨å¯¹è±¡
<execution context stock>:[
  <global execution context>,
  <foo execution context>:{
    AO:{
      agruments:{
        0:1,
        length
      },
      a:uninit,//let const
      b:undefined,//var
      c:reference to function c(){},,//function
    },
    <scope chain>:foo.[[scope]] //[globalContext.VO]
  },
]

5. ç»™å½“å‰æ‰§è¡Œä¸Šä¸‹æ–‡çš„ä½œç”¨åŸŸé“¾ï¼Œå‹å…¥å½“å‰æ´»åŠ¨å¯¹è±¡
<execution context stock>:[
  <global execution context>,
  <foo execution context>:{
    AO:{
      agruments:{
        0:1,
        length
      },
      a:uninit,//let const
      b:undefined,//var
      c:reference to function c(){},,//function
    },
    <scope chain>:[
      fooContext.AO,
      globalContext.VO
    ]
  },
]

6. å¼€å§‹æ‰§è¡Œï¼Œä¿®æ”¹æ´»åŠ¨å¯¹è±¡ğŸ¡å±æ€§
<execution context stock>:[
  <global execution context>,
  <foo execution context>:{
    AO:{
      agruments:{
        0:1,
        length
      },
      a:1,//let const
      b:1,//var
      c:reference to function c(){},,//function
    },
    <scope chain>:[
      fooContext.AO,
      globalContext.VO
    ]
  },
]

7. cå®šä¹‰ï¼Œä¿å­˜çˆ¶çº§ä½œç”¨åŸŸç»™ cå‡½æ•° çš„[[scope]]å±æ€§
c.[[scope]] = [
  fooContext.AO,
  globalContext.VO
]

8. fooæ‰§è¡Œä¸Šä¸‹æ–‡å‡ºæ ˆ
<execution context stock>:[
  <global execution context>
]
```

# ä½œç”¨åŸŸé“¾

ä½œç”¨åŸŸé“¾æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªæŒ‡å‘å˜é‡å¯¹è±¡çš„æŒ‡é’ˆåˆ—è¡¨

# æ‰§è¡Œæ ˆå’Œä½œç”¨åŸŸé“¾åŒºåˆ†

> ä½œç”¨åŸŸé“¾ï¼Œæ ¹æ®ä¹¦å†™é¡ºåº
> æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œæ ¹æ®æ‰§è¡Œé¡ºåº

1. ğŸŒ°

```js
function a (){
  b()
}
function b (){
  c()
}
function c (){
}
a()

ä½œç”¨åŸŸï¼š
a['global scope','a scope']
b['global scope','b scope']
b['global scope','c scope']
æ‰§è¡Œæ ˆï¼š
ECS.push('ec global')
ECS.push('ec a')
ECS.push('ec b')
ECS.push('ec c')
ECS.pop()
ECS.pop()
ECS.pop()
ECS.pop()
```

2. ğŸŒ°ğŸŒ°

```js
var aa = 'global'
function a (){
  var aa = 'aa'
  function b (){
    console.log(aa) //aa
    function c (){
    }
    return c()
  }
  return b()
}
a()

ä½œç”¨åŸŸï¼š
a['global scope','a scope','b scope','c scope']

æ‰§è¡Œæ ˆï¼š
ECS.push('ec global')
ECS.push('ec a')
ECS.push('ec b')
ECS.push('ec c')
ECS.pop()
ECS.pop()
ECS.pop()
ECS.pop()
```

> return çš„æ˜¯æ‰§è¡Œåçš„ç»“æœï¼Œä¹Ÿå°±æ˜¯è¯´å…ˆæ‰§è¡Œï¼Œå† returnï¼Œå…ˆå…¥æ ˆï¼Œå…¥å®Œå†å‡º

3. ğŸŒ°ğŸŒ°ğŸŒ°

```js
var aa = 'global'
function a (){
  var aa = 'aa'
  function b (){
    console.log(aa) //aa
    function c (){
    }
    return c
  }
  return b
}
a()()()

ä½œç”¨åŸŸï¼š
a['global scope','a scope','b scope','c scope']

æ‰§è¡Œæ ˆï¼š
ECS.push('ec global')
ECS.pop()
ECS.push('ec a')
ECS.pop()
ECS.push('ec b')
ECS.pop()
ECS.push('ec c')
ECS.pop()

```

# é—­åŒ…

é—­åŒ…æ˜¯æŒ‡æœ‰æƒè®¿é—®å¦ä¸€ä¸ª å‡½æ•°ä½œç”¨åŸŸä¸­çš„å˜é‡çš„å‡½æ•°

mdnï¼š é—­åŒ…æ˜¯æŒ‡é‚£äº›èƒ½å¤Ÿè®¿é—®è‡ªç”±å˜é‡çš„å‡½æ•°ã€‚

## ç†è®ºä¸Š

ã€ŠJavaScriptæƒå¨æŒ‡å—ã€‹ä¸­å°±è®²åˆ°ï¼šä»æŠ€æœ¯çš„è§’åº¦è®²ï¼Œæ‰€æœ‰çš„JavaScriptå‡½æ•°éƒ½æ˜¯é—­åŒ…ã€‚

é—­åŒ… = å‡½æ•° + å‡½æ•°èƒ½å¤Ÿè®¿é—®çš„è‡ªç”±å˜é‡
> è‡ªç”±å˜é‡æ˜¯æŒ‡åœ¨å‡½æ•°ä¸­ä½¿ç”¨çš„ï¼Œä½†æ—¢ä¸æ˜¯å‡½æ•°å‚æ•°ä¹Ÿä¸æ˜¯å‡½æ•°çš„å±€éƒ¨å˜é‡çš„å˜é‡ã€‚

## å®è·µä¸Š

ECMAScriptä¸­ï¼Œé—­åŒ…æŒ‡çš„æ˜¯ï¼š

ä»ç†è®ºè§’åº¦ï¼šæ‰€æœ‰çš„å‡½æ•°ã€‚å› ä¸ºå®ƒä»¬éƒ½åœ¨åˆ›å»ºçš„æ—¶å€™å°±å°†ä¸Šå±‚ä¸Šä¸‹æ–‡çš„æ•°æ®ä¿å­˜èµ·æ¥äº†ã€‚å“ªæ€•æ˜¯ç®€å•çš„å…¨å±€å˜é‡ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œå› ä¸ºå‡½æ•°ä¸­è®¿é—®å…¨å±€å˜é‡å°±ç›¸å½“äºæ˜¯åœ¨è®¿é—®è‡ªç”±å˜é‡ï¼Œè¿™ä¸ªæ—¶å€™ä½¿ç”¨æœ€å¤–å±‚çš„ä½œç”¨åŸŸã€‚
ä»å®è·µè§’åº¦ï¼šä»¥ä¸‹å‡½æ•°æ‰ç®—æ˜¯é—­åŒ…ï¼š
å³ä½¿åˆ›å»ºå®ƒçš„ä¸Šä¸‹æ–‡å·²ç»é”€æ¯ï¼Œå®ƒä»ç„¶å­˜åœ¨ï¼ˆæ¯”å¦‚ï¼Œå†…éƒ¨å‡½æ•°ä»çˆ¶å‡½æ•°ä¸­è¿”å›ï¼‰
åœ¨ä»£ç ä¸­å¼•ç”¨äº†è‡ªç”±å˜é‡

# åŸå‹é“¾

# new å®è´¨

å››éƒ¨æ›²

1. åˆ›å»ºä¸€ä¸ªå¯¹è±¡ x
2. x._proto_ æŒ‡å‘ class.prototype
3. æŒ‡å®š this
4. å¦‚æœå‡½æ•°æœ‰åŸºæœ¬ç±»å‹çš„è¿”å›å€¼ï¼Œåˆ™è¿”å›å¯¹è±¡ xï¼Œå¦‚æœå‡½æ•°æœ‰å¼•ç”¨ç±»å‹çš„è¿”å›å€¼ï¼Œåˆ™è¿”å›è¯¥å¼•ç”¨ç±»å‹

æ¨¡æ‹Ÿ new

```js
function class (fn,...val){
  var o = {

  }
  o.__proto__ = fn.prototype
  let a = fn.apply(o,val)
  return typeof a === 'object'|| typeof a === 'function'?a:o
}
```

# this


> ç²—æµ…å±‚

éšå¼ç»‘å®š
æ˜¾ç¤ºç»‘å®š
new
å›è°ƒå‡½æ•°

> æ·±å…¥

1. expression è¡¨è¾¾å¼ ã€ŠjavaScriptæƒå¨æŒ‡å—ã€‹

è°ƒç”¨è¡¨è¾¾å¼

å¦‚æœè°ƒç”¨è¡¨è¾¾å¼ä¹‹å‰çš„è¡¨è¾¾å¼ï¼Œæ˜¯ä¸€ä¸ªå±æ€§è®¿é—®è¡¨è¾¾å¼ï¼Œé‚£ä¹ˆä½œä¸ºå±æ€§è®¿é—®ä¸»é¢˜çš„å¯¹è±¡å’Œæ•°ç»„ä¾¿æ˜¯å…¶è°ƒç”¨æ–¹æ³•å†…thisçš„æŒ‡å‘

2. å¼•ç”¨æ³• é˜®ä¸€å³°è€å¸ˆ

[è¿ç®—ç¬¦é¡ºåº](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Operator_Precedence)


# apply call bind

```js
var obj = {
  value:1,
}

function foo(who1,who2){
  console.log(this.value)
  console.log(who1+'fuck'+who2)
}


Function.prototype.call2 = function(context,...val){
  context = context || window
  context.foo2 = this
  var arr = []
  for(let i = 0;i<val.length;i++){
    arr.push('val['+i+']')
  }
  return eval('context.foo2('+arr+')')
}

foo.call2(obj,'ccc','ccc2')

// åŠ é—­åŒ…ï¼Œæ¨¡æ‹Ÿç”¨apply
Function.prototype.bind2 = function(context,...val1){
  self = this
  return function (...val2){
    return self.apply(context,[...val1,...val2])
  }
}

b = foo.bind2(obj)
b('ccc','ccc2')

// è®¾é… new
Function.prototype.bind2 = function (context) {

    if (typeof this !== "function") {
      throw new Error("Function.prototype.bind - what is trying to be bound is not callable");
    }

    var self = this;
    var args = Array.prototype.slice.call(arguments, 1);

    var fNOP = function () {};

    var fBound = function () {
        var bindArgs = Array.prototype.slice.call(arguments);
        return self.apply(this instanceof fNOP ? this : context, args.concat(bindArgs));
    }

    fNOP.prototype = this.prototype;
    fBound.prototype = new fNOP();
    return fBound;
}
```

# é¢å¯¹å¯¹è±¡

å°è£…
ç»§æ‰¿
å¤šæ€
è®¾è®¡æ¨¡å¼
http
è·¨åŸŸ

# å°è£…ã€ç»§æ‰¿ã€å¤šæ€

> é€ è½¦ï¼šå†™æ„é€ å‡½æ•°å•Šã€å†™å‡½æ•°å•Šã€å®šä¹‰å±æ€§å•Š

> å¼€è½¦ï¼šè°ƒç”¨å‡½æ•°ã€new Class()

## ä¸€ã€å°è£…

> å°è£…ï¼š`1`.æŠŠå®¢è§‚äº‹ç‰©å°è£…æˆæŠ½è±¡çš„ç±» `2`.éšè—å±æ€§å’Œæ–¹æ³•çš„å®ç°ç»†èŠ‚ `3`.ä»…å¯¹å¤–å…¬å¼€æ¥å£ã€‚

### 1. js ä¸­çš„ private

å› ä¸º javascript å‡½æ•°çº§ä½œç”¨åŸŸçš„ç‰¹æ€§ï¼ˆåœ¨å‡½æ•°ä¸­å®šä¹‰çš„å±æ€§å’Œæ–¹æ³•å¤–ç•Œè®¿é—®ä¸åˆ°ï¼‰ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨å‡½æ•°å†…éƒ¨ç›´æ¥å®šä¹‰çš„å±æ€§å’Œæ–¹æ³•éƒ½æ˜¯ç§æœ‰çš„ã€‚

> ç”±äºå‡½æ•°ä½œç”¨åŸŸçš„ç‰¹æ€§ï¼Œå‡½æ•°å†…éƒ¨å®šä¹‰çš„å˜é‡å¤–éƒ¨è®¿é—®ä¸åˆ°ï¼Œæ˜¯ç§æœ‰çš„

### 2. js ä¸­çš„ public

é€šè¿‡ new å…³é”®è¯å®ä¾‹åŒ–æ—¶ï¼Œthis å®šä¹‰çš„å±æ€§å’Œå˜é‡éƒ½ä¼šè¢«å¤åˆ¶ä¸€éï¼Œæ‰€ä»¥é€šè¿‡ this å®šä¹‰çš„å±æ€§å’Œæ–¹æ³•å°±æ˜¯å…¬æœ‰çš„ã€‚é€šè¿‡ prototype åˆ›å»ºçš„å±æ€§åœ¨ç±»çš„å®ä¾‹åŒ–ä¹‹åç±»çš„å®ä¾‹åŒ–å¯¹è±¡ä¹Ÿæ˜¯å¯ä»¥è®¿é—®åˆ°çš„ï¼Œæ‰€ä»¥ä¹Ÿæ˜¯å…¬æœ‰çš„ã€‚

> æ„é€ å‡½æ•°é€šè¿‡`new`å®ä¾‹åŒ–çš„æ—¶å€™ï¼Œå‡½æ•°å†…éƒ¨çš„ this æŒ‡å‘äº†å®ä¾‹å¯¹è±¡ï¼Œé€šè¿‡è¿™ç§æ–¹å¼å®šä¹‰çš„å±æ€§å’Œå‡½æ•°å°±æ˜¯å…±æœ‰çš„ï¼Œå¤–éƒ¨å¯ä»¥è®¿é—®çš„

> é€šè¿‡ prototype åˆ›å»ºçš„å±æ€§å’Œå‡½æ•°ï¼Œæ„é€ å‡½æ•°é€šè¿‡`new`å®ä¾‹åŒ–åï¼ŒæŠŠ prototype å¯¹è±¡çš„åœ°å€èµ‹ç»™äº†å®ä¾‹åŒ–å¯¹è±¡çš„`__proto__`å¯¹è±¡ï¼ŒåŒæ ·ï¼Œå¤–éƒ¨ä¹Ÿå¯ä»¥è®¿é—®åˆ°

### 3. js ä¸­çš„ protected

åœ¨å‡½æ•°çš„å†…éƒ¨ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ this å®šä¹‰çš„æ–¹æ³•è®¿é—®åˆ°ä¸€äº›ç±»çš„ç§æœ‰å±æ€§å’Œæ–¹æ³•ï¼Œåœ¨å®ä¾‹åŒ–çš„æ—¶å€™å°±å¯ä»¥åˆå§‹åŒ–å¯¹è±¡çš„ä¸€äº›å±æ€§äº†ã€‚

> é€šè¿‡æ„é€ å‡½æ•°å†…éƒ¨ this åˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œè¿”å›ç§æœ‰å˜é‡ï¼Œå¤–éƒ¨åªæœ‰é€šè¿‡è°ƒç”¨è¿™ä¸ªå‡½æ•°æ‰èƒ½æ‹¿åˆ°è¿™ä¸ªå˜é‡ï¼Œå—ä¿æŠ¤çš„

### 4. new çš„å®è´¨

**4 æ­¥**

1. `new xxClass()`æ–°å»ºäº†ä¸€ä¸ªå¯¹è±¡

2. `obj.__proto__` åœ°å€æŒ‡å‘äº† `xxClass.prototype`

3. `xxClass`æ„é€ å‡½æ•°çš„ this ç»‘å®šåˆ°æ–°å»ºçš„å¯¹è±¡

4. é»˜è®¤è¿”å›è¿™ä¸ªå¯¹è±¡ï¼Œå¦‚æœå‡½æ•°åˆè¿”å›å€¼;å¦‚æœæ„é€ å‡½æ•°çš„è¿”å›å€¼ä¸ºåŸºæœ¬æ•°æ®ç±»å‹`string`,`boolean`,`number`,`null`,`undefined`,é‚£ä¹ˆå°±è¿”å›æ–°å¯¹è±¡;å¦‚æœæ„é€ å‡½æ•°çš„è¿”å›å€¼ä¸ºå¯¹è±¡ç±»å‹ï¼Œé‚£ä¹ˆå°±è¿”å›è¿™ä¸ªå¯¹è±¡ç±»å‹

### 5. ä¸‰ä¸ªç‰¹æ€§

1. æ„é€ å‡½æ•°`this`

2. æ„é€ å‡½æ•°`prototype`

3. æ„é€ å‡½æ•°`.`

## äºŒã€ç»§æ‰¿

é¦–å…ˆï¼Œç»§æ‰¿æœ‰å‡ ç§æ–¹å¼ï¼Œä¾‹å¦‚ï¼Œ1. åŸå‹ç»§æ‰¿ 2.å€Ÿç”¨æ„é€ å‡½æ•°ç»§æ‰¿ 3. ç»„åˆç»§æ‰¿ 4.å¯„ç”Ÿç»§æ‰¿ ã€‚ã€‚ã€‚

åŸå‹ç»§æ‰¿æ¶‰åŠå‡½æ•° prototype åŸå‹é“¾çš„è¿™ä¸ªæ¦‚å¿µï¼Œå’Œ new çš„å®è´¨

å€Ÿç”¨æ„é€ å‡½æ•°ç»§æ‰¿ é€šè¿‡å‡½æ•°å†…éƒ¨ç›´æ¥è°ƒç”¨æ„é€ å‡½æ•°

ç»§æ‰¿å…¶å®å°±æ˜¯é€šè¿‡ æ„é€ å‡½æ•°`this`ï¼Œæ„é€ å‡½æ•°`prototype`ï¼Œæ„é€ å‡½æ•°`.` ,è¿™ä¸‰ç§ç‰¹æ€§æ¥å®ç°çš„

> ç»§æ‰¿ï¼šä»ä¸€èˆ¬åˆ°ç‰¹æ®Šçš„è¿‡ç¨‹ï¼Œå­ç±»ç»§æ‰¿çˆ¶ç±»çš„æ‰€æœ‰åŠŸèƒ½ï¼Œå¹¶è¿›è¡Œæ‹“å±•

å‡ ç§æ–¹å¼

1. [ç±»å¼ç»§æ‰¿](<###ç±»å¼(åŸå‹)ç»§æ‰¿>)
2. [æ„é€ å‡½æ•°ç»§æ‰¿](###æ„é€ å‡½æ•°ç»§æ‰¿)
3. [æ„é€ å‡½æ•°ç»§æ‰¿](###æ„é€ å‡½æ•°ç»§æ‰¿)
4. [æ„é€ å‡½æ•°ç»§æ‰¿](###æ„é€ å‡½æ•°ç»§æ‰¿)

### 1. ç±»å¼(åŸå‹)ç»§æ‰¿

```js
// é€ è½¦
function Baba(name){
  // å±æ€§
  this.babaName = name
  // å°åŠ¨ä½œ
  this.fangpi = function (){
    return 'æˆ‘çˆ±æ”¾å±'
  }
}
// åŸå‹å°åŠ¨ä½œ   é€šè¿‡newæ‰èƒ½ç»§æ‰¿
Baba.prototype.getName = function (){
  return this.babaName
}


// é€ è½¦
function Erzi (name){
  this.erziName = name
}
// åŸå‹å°åŠ¨ä½œ   é€šè¿‡newæ‰èƒ½ç»§æ‰¿
Erzi.prototype = new Baba('ccc')
// Erzi.prototype = new Baba()


// å¼€è½¦
let ni = new Erzi('cccçš„å„¿å­')
console.log(ni.babaName) // ccc

ç‚¸äº†ï¼Œè€çˆ¸çš„åå­—æ€ä¹ˆæ€»æ˜¯ccc
```

ç‰¹ç‚¹ï¼š

- é€šè¿‡æŠŠçˆ¶ç±»å®ä¾‹å­ç±»åŸå‹ `prototype` å¯¹è±¡

ç¼ºé™·ï¼š

- å¦‚æœçˆ¶ç±»é€šè¿‡ this å®šä¹‰äº†ä¸€ä¸ªå¼•ç”¨ç±»å‹çš„å˜é‡ï¼Œé‚£ä¹ˆè¿™ä¸ªå¼•ç”¨ç±»å‹çš„å˜é‡å°±ä¼šè¢«æ‰€æœ‰å­ç±»çš„å®ä¾‹æ‰€å…±æœ‰ï¼Œå¦‚æœåœ¨ä¸€ä¸ªå®ä¾‹ä¸­æ›´æ”¹æ”¹å¼•ç”¨ç±»å‹å˜é‡åœ°å€æŒ‡å‘çš„å†…å®¹ï¼Œæ‰€æœ‰å®ä¾‹éƒ½ä¼šè¢«å½±å“
- çˆ¶ç±»çš„å®ä¾‹åŒ–æ“ä½œä¸å¤Ÿçµæ´»

### 2. æ„é€ å‡½æ•°ç»§æ‰¿

```js
// é€ è½¦
function Baba(name){
  // å±æ€§
  this.babaName = name
  // å°åŠ¨ä½œ
  this.fangpi = function (){
    return 'æˆ‘çˆ±æ”¾å±'
  }
}
// åŸå‹å°åŠ¨ä½œ   é€šè¿‡newæ‰èƒ½ç»§æ‰¿
Baba.prototype.getName = function (){
  return this.babaName
}


// é€ è½¦
function Erzi (name,babaName){
  this.erziName = name
  Baba.call(this,babaName) // è¿™é‡Œçš„bindå’Œapplyå’Œcallä¹Ÿæ˜¯ä¸€ä¸ªçŸ¥è¯†ç‚¹
}


// å¼€è½¦
let ni = new Erzi('cccçš„å„¿å­','ccc')
console.log(ni.babaName) // ccc

ç‚¸äº†ï¼Œè€çˆ¸çš„åŸå‹å»å“ªé‡Œ

```

ç‰¹ç‚¹ï¼š

- é€šè¿‡ callï¼Œapply å’Œ bindï¼Œæ¥æ›¿ä»£ new è¿‡ç¨‹ä¸­ç»‘å®š this çš„æ“ä½œ

ç¼ºç‚¹ï¼š

- çˆ¶ç±»ä¸æ˜¯é€šè¿‡`new`å»è°ƒç”¨ï¼Œæ‰€ä»¥æ²¡ç»§æ‰¿åˆ°çˆ¶ç±»çš„åŸå‹`prototype`
- æ¯æ¬¡ç”Ÿäº§ä¸€ä¸ªå­ç±»å®ä¾‹ï¼Œéƒ½ä¼šæ‰§è¡Œä¸€æ¬¡çˆ¶ç±»å‡½æ•°ï¼Œæ¶ˆè€—å†…å­˜

|              | ç‰¹ç‚¹                                                   | ä¼˜ç‚¹                                            | ç¼ºç‚¹                                                                                        |
| ------------ | ------------------------------------------------------ | ----------------------------------------------- | ------------------------------------------------------------------------------------------- |
| ç±»å¼ç»§æ‰¿     | çˆ¶ç±»å®ä¾‹åŒ–å­ç±»çš„åŸå‹ prototype å¯¹è±¡                    | å­ç±»çš„å®ä¾‹åŒ–å¯¹è±¡å¯ä»¥æ‹¿åˆ°çˆ¶ç±»çš„å®ä¾‹å¯¹è±¡å’ŒåŸå‹    | å­ç±»ç›¸äº’å½±å“(å› ä¸ºçˆ¶ç±»åªå®ä¾‹åŒ–äº†ä¸€æ¬¡ )                                                       |
| æ„é€ å‡½æ•°ç»§æ‰¿ | é€šè¿‡ callã€applyã€bind æ›¿ä»£ new è¿‡ç¨‹ä¸­ç»‘å®š this çš„æ“ä½œ | å­ç±»ä¸ç›¸äº’å½±å“(å­ç±»å®ä¾‹åŒ–çš„æ—¶å€™ï¼Œçˆ¶ç±»ä¹Ÿè°ƒç”¨äº† ) | 1. æ¯æ¬¡ç”Ÿäº§ä¸€ä¸ªå­ç±»å®ä¾‹ï¼Œéƒ½ä¼šæ‰§è¡Œä¸€æ¬¡çˆ¶ç±»å‡½æ•°ï¼Œæ¶ˆè€—å†…å­˜<br>2.æ²¡æœ‰ç»§æ‰¿åˆ°çˆ¶ç±»çš„åŸå‹ prototype |

## ç»„åˆå¼ç»§æ‰¿

```js
// é€ è½¦
function Baba(name) {
  // å±æ€§
  this.babaName = name
  // å°åŠ¨ä½œ
  this.fangpi = function() {
    return 'æˆ‘çˆ±æ”¾å±'
  }
}
// åŸå‹å°åŠ¨ä½œ   é€šè¿‡newæ‰èƒ½ç»§æ‰¿
Baba.prototype.getName = function() {
  return this.babaName
}

// é€ è½¦
function Erzi(name, babaName) {
  this.erziName = name
  Baba.call(this, babaName) // æ‹¿åˆ°thisèµ‹å€¼çš„å±æ€§
}

Erzi.prototype = new Baba() // æ‹¿åˆ°çˆ¶ç±»çš„åŸå‹prototype
// å¼€è½¦
let ni = new Erzi('cccçš„å„¿å­', 'ccc')
```

> é‡ç‚¹ï¼Œå¯¹è±¡å±æ€§çš„è®¿é—®æ“ä½œï¼Œä¹Ÿå°±æ˜¯å·¦èµ‹å€¼

ç‰¹ç‚¹ï¼š

- é€šè¿‡ callï¼Œapply å’Œ bindï¼Œæ¥æ›¿ä»£ new è¿‡ç¨‹ä¸­ç»‘å®š this çš„æ“ä½œ
